<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>WotLK Talent Tree Calculator Tool</title>
    <meta name="viewport" 
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

    <script type="text/javascript" src=".//TalentTreeCalculator.js?v=1.06"></script>
    <link rel="stylesheet" href=".//TalentTreeCalculator.css">
</head>

<body>
    <div id="test"></div>
    
    <script>
        var jsonData = {"deathknight":{"blood":[[{"name":"Butchery","icon":"inv_axe_68.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Whenever you kill an enemy that grants experience or honor, you generate up to 10 runic power. In addition, you generate 1 runic power per 5 sec while in combat."},{"text":"Whenever you kill an enemy that grants experience or honor, you generate up to 20 runic power. In addition, you generate 2 runic power per 5 sec while in combat."}]},{"name":"Subversion","icon":"spell_deathknight_subversion.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the critical strike chance of Blood Strike, Scourge Strike, Heart Strike and Obliterate by 3%, and reduces threat generated while in Blood or Unholy Presence by 8%.."},{"text":"Increases the critical strike chance of Blood Strike, Scourge Strike, Heart Strike and Obliterate by 6%, and reduces threat generated while in Blood or Unholy Presence by 16%."},{"text":"Increases the critical strike chance of Blood Strike, Scourge Strike, Heart Strike and Obliterate by 9%, and reduces threat generated while in Blood or Unholy Presence by 25%."}]},{"name":"Blade Barrier","icon":"ability_upgrademoonglaive.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Whenever your Blood Runes are on cooldown, you gain the Blade Barrier effect, which decreases damage taken by 1% for the next 10 sec."},{"text":"Whenever your Blood Runes are on cooldown, you gain the Blade Barrier effect, which decreases damage taken by 2% for the next 10 sec."},{"text":"Whenever your Blood Runes are on cooldown, you gain the Blade Barrier effect, which decreases damage taken by 3% for the next 10 sec."},{"text":"Whenever your Blood Runes are on cooldown, you gain the Blade Barrier effect, which decreases damage taken by 4% for the next 10 sec."},{"text":"Whenever your Blood Runes are on cooldown, you gain the Blade Barrier effect, which decreases damage taken by 5% for the next 10 sec."}]},null],[{"name":"Bladed Armor","icon":"inv_shoulder_36.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases your attack power by 1 for every 180 armor value you have."},{"text":"Increases your attack power by 2 for every 180 armor value you have."},{"text":"Increases your attack power by 3 for every 180 armor value you have."},{"text":"Increases your attack power by 4 for every 180 armor value you have."},{"text":"Increases your attack power by 5 for every 180 armor value you have."}]},{"name":"Scent of Blood","icon":"ability_rogue_bloodyeye.jpg","lockRules":[],"headers":[],"ranks":[{"text":"You have a 15% chance after dodging, parrying or taking  direct damage to gain the Scent of Blood effect, causing your next melee hit to generate 10 runic power."},{"text":"You have a 15% chance after dodging, parrying or taking  direct damage to gain the Scent of Blood effect, causing your next 2 melee hits to generate 10 runic power."},{"text":"You have a 15% chance after dodging, parrying or taking  direct damage to gain the Scent of Blood effect, causing your next 3 melee hits to generate 10 runic power."}]},{"name":"Two-Handed Weapon Specialization","icon":"inv_sword_68.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the damage you deal with two-handed melee weapons by 2%."},{"text":"Increases the damage you deal with two-handed melee weapons by 4%."}]},null],[{"name":"Rune Tap","icon":"spell_deathknight_runetap.jpg","lockRules":[],"headers":[{"left":"Instant cast","right":"1 min cooldown"}],"ranks":[{"text":"Converts 1 Blood Rune into 10% of your maximum health."}]},{"name":"Dark Conviction","icon":"spell_deathknight_darkconviction.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases your chance to critically hit with weapons, spells and abilities by 1%."},{"text":"Increases your chance to critically hit with weapons, spells and abilities by 2%."},{"text":"Increases your chance to critically hit with weapons, spells and abilities by 3%."},{"text":"Increases your chance to critically hit with weapons, spells and abilities by 4%."},{"text":"Increases your chance to critically hit with weapons, spells and abilities by 5%."}]},{"name":"Death Rune Mastery","icon":"inv_sword_62.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Whenever you hit with Death Strike or Obliterate there is a 33% chance that the Frost and Unholy Runes will become Death Runes when they activate. Death Runes count as a Blood, Frost or Unholy Rune."},{"text":"Whenever you hit with Death Strike or Obliterate there is a 66% chance that the Frost and Unholy Runes will become Death Runes when they activate. Death Runes count as a Blood, Frost or Unholy Rune."},{"text":"Whenever you hit with Death Strike or Obliterate there is a 100% chance that the Frost and Unholy Runes will become Death Runes when they activate. Death Runes count as a Blood, Frost or Unholy Rune."}]},null],[{"name":"Improved Rune Tap","icon":"spell_deathknight_runetap.jpg","lockRules":[{"row":2,"column":0}],"headers":[],"ranks":[{"text":"Increases the health provided by Rune Tap by 33% and lowers its cooldown by 10 sec."},{"text":"Increases the health provided by Rune Tap by 66% and lowers its cooldown by 20 sec."},{"text":"Increases the health provided by Rune Tap by 100% and lowers its cooldown by 30 sec."}]},null,{"name":"Spell Deflection","icon":"spell_deathknight_spelldeflection.jpg","lockRules":[],"headers":[],"ranks":[{"text":"You have a chance equal to your Parry chance of taking 15% less damage from a direct damage spell."},{"text":"You have a chance equal to your Parry chance of taking 30% less damage from a direct damage spell."},{"text":"You have a chance equal to your Parry chance of taking 45% less damage from a direct damage spell."}]},{"name":"Vendetta","icon":"spell_deathknight_vendetta.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Heals you for up to 2% of your maximum health whenever you kill a target that yields experience or honor."},{"text":"Heals you for up to 4% of your maximum health whenever you kill a target that yields experience or honor."},{"text":"Heals you for up to 6% of your maximum health whenever you kill a target that yields experience or honor."}]}],[{"name":"Bloody Strikes","icon":"spell_deathknight_deathstrike.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the damage of Blood Strike by 5% and Heart Strike by 15%, and increases the damage of Blood Boil by 10%."},{"text":"Increases the damage of Blood Strike by 10% and Heart Strike by 30%, and increases the damage of Blood Boil by 20%."},{"text":"Increases the damage of Blood Strike by 15% and Heart Strike by 45%, and increases the damage of Blood Boil by 30%."}]},null,{"name":"Veteran of the Third War","icon":"spell_misc_warsongfocus.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases your total Strength by 2%, your Stamina by 1%, and your expertise by 2."},{"text":"Increases your total Strength by 4%, your Stamina by 2%, and your expertise by 4."},{"text":"Increases your total Strength by 6%, your Stamina by 3%, and your expertise by 6."}]},{"name":"Mark of Blood","icon":"ability_hunter_rapidkilling.jpg","lockRules":[],"headers":[{"left":"1 Frost","right":"30 yd range"},{"left":"Instant","right":"3 min cooldown"}],"ranks":[{"text":"Place a Mark of Blood on an enemy. Whenever the marked enemy deals damage to a target, that target is healed for 4% of its maximum health. Lasts for 20 sec or up to 20 hits."}]}],[null,{"name":"Bloody Vengeance","icon":"ability_backstab.jpg","lockRules":[{"row":2,"column":1}],"headers":[],"ranks":[{"text":"Gives you a 1% bonus to physical damage you deal for 30 sec after dealing a critical strike from a weapon swing, spell, or ability. This effect stacks up to 3 times."},{"text":"Gives you a 2% bonus to physical damage you deal for 30 sec after dealing a critical strike from a weapon swing, spell, or ability. This effect stacks up to 3 times."},{"text":"Gives you a 3% bonus to physical damage you deal for 30 sec after dealing a critical strike from a weapon swing, spell, or ability. This effect stacks up to 3 times."}]},{"name":"Abomination's Might","icon":"ability_warrior_intensifyrage.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the attack power by 5% of party and raid members within 100 yards. Also increases your total Strength by 1%."},{"text":"Increases the attack power by 10% of party and raid members within 100 yards. Also increases your total Strength by 2%."}]},null],[{"name":"Bloodworms","icon":"spell_shadow_soulleech.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your weapon hits have a 3% chance to cause the target to spawn 2-4 Bloodworms. Bloodworms attack your enemies, healing you as they do damage for 20 sec or until killed."},{"text":"Your weapon hits have a 6% chance to cause the target to spawn 2-4 Bloodworms. Bloodworms attack your enemies, healing you as they do damage for 20 sec or until killed."},{"text":"Your weapon hits have a 9% chance to cause the target to spawn 2-4 Bloodworms. Bloodworms attack your enemies, healing you as they do damage for 20 sec or until killed."}]},{"name":"Unholy Frenzy","icon":"spell_deathknight_bladedarmor.jpg","lockRules":[],"headers":[{"left":"Instant","right":"3 min cooldown"}],"ranks":[{"text":"Induces a friendly unit into a killing frenzy for 30 sec. The target is Enraged, which increases their physical damage by 20%, but causes them to lose health equal to 1% of their maximum health every second."}]},{"name":"Improved Blood Presence","icon":"spell_deathknight_bloodpresence.jpg","lockRules":[],"headers":[],"ranks":[{"text":"While in Frost Presence or Unholy Presence, you retain 2% healing from Blood Presence, and healing done to you is increased by 5% in Blood Presence."},{"text":"While in Frost Presence or Unholy Presence, you retain 4% healing from Blood Presence, and healing done to you is increased by 10% in Blood Presence."}]},null],[{"name":"Improved Death Strike","icon":"spell_deathknight_butcher2.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the damage of your Death Strike by 15%, increases its critical strike chance by 3%, and increases the healing granted by 25%."},{"text":"Increases the damage of your Death Strike by 30%, increases its critical strike chance by 6%, and increases the healing granted by 50%."}]},{"name":"Sudden Doom","icon":"spell_shadow_painspike.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your Blood Strikes and Heart Strikes have a 5% chance to launch a free Death Coil at your target."},{"text":"Your Blood Strikes and Heart Strikes have a 10% chance to launch a free Death Coil at your target."},{"text":"Your Blood Strikes and Heart Strikes have a 15% chance to launch a free Death Coil at your target."}]},{"name":"Vampiric Blood","icon":"spell_shadow_lifedrain.jpg","lockRules":[],"headers":[{"left":"Instant","right":"1 min cooldown"}],"ranks":[{"text":"Temporarily grants the Death Knight 15% of maximum health and increases the amount of health generated through spells and effects by 35% for 10 sec. After the effect expires, the health is lost."}]},null],[{"name":"Will of the Necropolis","icon":"ability_creature_cursed_02.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Damage that would take you below 35% health or taken while you are at 35% health is reduced by 5%."},{"text":"Damage that would take you below 35% health or taken while you are at 35% health is reduced by 10%."},{"text":"Damage that would take you below 35% health or taken while you are at 35% health is reduced by 15%."}]},{"name":"Heart Strike","icon":"inv_weapon_shortblade_40.jpg","lockRules":[],"headers":[{"left":"1 Frost","right":"Melee Range"}],"ranks":[{"text":"Instantly strike the target and his nearest ally, causing 50% weapon damage plus 125 on the primary target, and 25% weapon damage plus 63 on the secondary target. Each target takes 10% additional damage for each of your diseases active on that target."}]},{"name":"Might of Mograine","icon":"spell_deathknight_classicon.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the critical strike damage bonus of your Blood Boil, Blood Strike, Death Strike, and Heart Strike abilities by 15%."},{"text":"Increases the critical strike damage bonus of your Blood Boil, Blood Strike, Death Strike, and Heart Strike abilities by 30%."},{"text":"Increases the critical strike damage bonus of your Blood Boil, Blood Strike, Death Strike, and Heart Strike abilities by 45%."}]},null],[null,{"name":"Blood Gorged","icon":"spell_nature_reincarnation.jpg","lockRules":[],"headers":[],"ranks":[{"text":"When you are above 75% health, you deal 2% more damage. In addition, your attacks ignore up to 2% of your opponent's armor at all times."},{"text":"When you are above 75% health, you deal 4% more damage. In addition, your attacks ignore up to 4% of your opponent's armor at all times."},{"text":"When you are above 75% health, you deal 6% more damage. In addition, your attacks ignore up to 6% of your opponent's armor at all times."},{"text":"When you are above 75% health, you deal 8% more damage. In addition, your attacks ignore up to 8% of your opponent's armor at all times."},{"text":"When you are above 75% health, you deal 10% more damage. In addition, your attacks ignore up to 10% of your opponent's armor at all times."}]},null,null],[null,{"name":"Dancing Rune Weapon","icon":"inv_sword_07.jpg","lockRules":[],"headers":[{"left":"60 Runic Power","right":"30 yd range"},{"left":"Instant cast","right":"1 min cooldown"}],"ranks":[{"text":"Summons a second rune weapon that fights on its own for 12 sec, doing the same attacks as the Death Knight but for 50% reduced damage."}]},null,null]]}};
        
        var talentTreeCalculator = new TalentTreeCalculator(document.getElementById('test'), jsonData);
        talentTreeCalculator.buildSpec(0, "deathknight", "blood");
        talentTreeCalculator.buildSpec(1, "deathknight", "frost");
        talentTreeCalculator.buildSpec(2, "deathknight", "unholy");
                /*
        fetch ('./TalentData.json')
            .then(function(response) {
                return response.json();
            })
            .then(function (jsonData) {
                var talentTreeCalculator = new TalentTreeCalculator(document.getElementById('test'), jsonData);
                talentTreeCalculator.buildSpec(0, "deathknight", "blood");
                talentTreeCalculator.buildSpec(1, "deathknight", "frost");
                talentTreeCalculator.buildSpec(2, "deathknight", "unholy");
            });*/
    </script>
</body>

</html>