<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>WotLK Talent Tree Calculator Tool</title>
    <meta name="viewport" 
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script type="text/javascript" src="https://wotlk.evowow.com/static/widgets/power.js"></script>
    <script type="text/javascript" src=".//TalentTreeCalculator.js?v=1.0.1"></script>
    <script type="text/javascript" src=".//TalentTreeHistory.js?v=1.0.1"></script>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <link rel="stylesheet" href=".//TalentTreeCalculator.css">
    <link rel="stylesheet" href=".//TalentTreeHistory.css">
</head>

<body>    
    <div id="test"></div>
    <div id="history"></div>

    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content">
            <div class="modal-header">
              <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
              ...
            </div>
            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
              <button type="button" class="btn btn-primary">Save changes</button>
            </div>
          </div>
        </div>
      </div>
    
    <script>
        var jsonData = {"deathknight":{"blood":[[{"name":"Butchery","icon":"inv_axe_68.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Whenever you kill an enemy that grants experience or honor, you generate up to 10 runic power. In addition, you generate 1 runic power per 5 sec while in combat."},{"text":"Whenever you kill an enemy that grants experience or honor, you generate up to 20 runic power. In addition, you generate 2 runic power per 5 sec while in combat."}]},{"name":"Subversion","icon":"spell_deathknight_subversion.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the critical strike chance of Blood Strike, Scourge Strike, Heart Strike and Obliterate by 3%, and reduces threat generated while in Blood or Unholy Presence by 8%.."},{"text":"Increases the critical strike chance of Blood Strike, Scourge Strike, Heart Strike and Obliterate by 6%, and reduces threat generated while in Blood or Unholy Presence by 16%."},{"text":"Increases the critical strike chance of Blood Strike, Scourge Strike, Heart Strike and Obliterate by 9%, and reduces threat generated while in Blood or Unholy Presence by 25%."}]},{"name":"Blade Barrier","icon":"ability_upgrademoonglaive.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Whenever your Blood Runes are on cooldown, you gain the Blade Barrier effect, which decreases damage taken by 1% for the next 10 sec."},{"text":"Whenever your Blood Runes are on cooldown, you gain the Blade Barrier effect, which decreases damage taken by 2% for the next 10 sec."},{"text":"Whenever your Blood Runes are on cooldown, you gain the Blade Barrier effect, which decreases damage taken by 3% for the next 10 sec."},{"text":"Whenever your Blood Runes are on cooldown, you gain the Blade Barrier effect, which decreases damage taken by 4% for the next 10 sec."},{"text":"Whenever your Blood Runes are on cooldown, you gain the Blade Barrier effect, which decreases damage taken by 5% for the next 10 sec."}]},null],[{"name":"Bladed Armor","icon":"inv_shoulder_36.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases your attack power by 1 for every 180 armor value you have."},{"text":"Increases your attack power by 2 for every 180 armor value you have."},{"text":"Increases your attack power by 3 for every 180 armor value you have."},{"text":"Increases your attack power by 4 for every 180 armor value you have."},{"text":"Increases your attack power by 5 for every 180 armor value you have."}]},{"name":"Scent of Blood","icon":"ability_rogue_bloodyeye.jpg","lockRules":[],"headers":[],"ranks":[{"text":"You have a 15% chance after dodging, parrying or taking  direct damage to gain the Scent of Blood effect, causing your next melee hit to generate 10 runic power."},{"text":"You have a 15% chance after dodging, parrying or taking  direct damage to gain the Scent of Blood effect, causing your next 2 melee hits to generate 10 runic power."},{"text":"You have a 15% chance after dodging, parrying or taking  direct damage to gain the Scent of Blood effect, causing your next 3 melee hits to generate 10 runic power."}]},{"name":"Two-Handed Weapon Specialization","icon":"inv_sword_68.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the damage you deal with two-handed melee weapons by 2%."},{"text":"Increases the damage you deal with two-handed melee weapons by 4%."}]},null],[{"name":"Rune Tap","icon":"spell_deathknight_runetap.jpg","lockRules":[],"headers":[{"left":"Instant cast","right":"1 min cooldown"}],"ranks":[{"text":"Converts 1 Blood Rune into 10% of your maximum health."}]},{"name":"Dark Conviction","icon":"spell_deathknight_darkconviction.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases your chance to critically hit with weapons, spells and abilities by 1%."},{"text":"Increases your chance to critically hit with weapons, spells and abilities by 2%."},{"text":"Increases your chance to critically hit with weapons, spells and abilities by 3%."},{"text":"Increases your chance to critically hit with weapons, spells and abilities by 4%."},{"text":"Increases your chance to critically hit with weapons, spells and abilities by 5%."}]},{"name":"Death Rune Mastery","icon":"inv_sword_62.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Whenever you hit with Death Strike or Obliterate there is a 33% chance that the Frost and Unholy Runes will become Death Runes when they activate. Death Runes count as a Blood, Frost or Unholy Rune."},{"text":"Whenever you hit with Death Strike or Obliterate there is a 66% chance that the Frost and Unholy Runes will become Death Runes when they activate. Death Runes count as a Blood, Frost or Unholy Rune."},{"text":"Whenever you hit with Death Strike or Obliterate there is a 100% chance that the Frost and Unholy Runes will become Death Runes when they activate. Death Runes count as a Blood, Frost or Unholy Rune."}]},null],[{"name":"Improved Rune Tap","icon":"spell_deathknight_runetap.jpg","lockRules":[{"row":2,"column":0}],"headers":[],"ranks":[{"text":"Increases the health provided by Rune Tap by 33% and lowers its cooldown by 10 sec."},{"text":"Increases the health provided by Rune Tap by 66% and lowers its cooldown by 20 sec."},{"text":"Increases the health provided by Rune Tap by 100% and lowers its cooldown by 30 sec."}]},null,{"name":"Spell Deflection","icon":"spell_deathknight_spelldeflection.jpg","lockRules":[],"headers":[],"ranks":[{"text":"You have a chance equal to your Parry chance of taking 15% less damage from a direct damage spell."},{"text":"You have a chance equal to your Parry chance of taking 30% less damage from a direct damage spell."},{"text":"You have a chance equal to your Parry chance of taking 45% less damage from a direct damage spell."}]},{"name":"Vendetta","icon":"spell_deathknight_vendetta.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Heals you for up to 2% of your maximum health whenever you kill a target that yields experience or honor."},{"text":"Heals you for up to 4% of your maximum health whenever you kill a target that yields experience or honor."},{"text":"Heals you for up to 6% of your maximum health whenever you kill a target that yields experience or honor."}]}],[{"name":"Bloody Strikes","icon":"spell_deathknight_deathstrike.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the damage of Blood Strike by 5% and Heart Strike by 15%, and increases the damage of Blood Boil by 10%."},{"text":"Increases the damage of Blood Strike by 10% and Heart Strike by 30%, and increases the damage of Blood Boil by 20%."},{"text":"Increases the damage of Blood Strike by 15% and Heart Strike by 45%, and increases the damage of Blood Boil by 30%."}]},null,{"name":"Veteran of the Third War","icon":"spell_misc_warsongfocus.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases your total Strength by 2%, your Stamina by 1%, and your expertise by 2."},{"text":"Increases your total Strength by 4%, your Stamina by 2%, and your expertise by 4."},{"text":"Increases your total Strength by 6%, your Stamina by 3%, and your expertise by 6."}]},{"name":"Mark of Blood","icon":"ability_hunter_rapidkilling.jpg","lockRules":[],"headers":[{"left":"1 Frost","right":"30 yd range"},{"left":"Instant","right":"3 min cooldown"}],"ranks":[{"text":"Place a Mark of Blood on an enemy. Whenever the marked enemy deals damage to a target, that target is healed for 4% of its maximum health. Lasts for 20 sec or up to 20 hits."}]}],[null,{"name":"Bloody Vengeance","icon":"ability_backstab.jpg","lockRules":[{"row":2,"column":1}],"headers":[],"ranks":[{"text":"Gives you a 1% bonus to physical damage you deal for 30 sec after dealing a critical strike from a weapon swing, spell, or ability. This effect stacks up to 3 times."},{"text":"Gives you a 2% bonus to physical damage you deal for 30 sec after dealing a critical strike from a weapon swing, spell, or ability. This effect stacks up to 3 times."},{"text":"Gives you a 3% bonus to physical damage you deal for 30 sec after dealing a critical strike from a weapon swing, spell, or ability. This effect stacks up to 3 times."}]},{"name":"Abomination's Might","icon":"ability_warrior_intensifyrage.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the attack power by 5% of party and raid members within 100 yards. Also increases your total Strength by 1%."},{"text":"Increases the attack power by 10% of party and raid members within 100 yards. Also increases your total Strength by 2%."}]},null],[{"name":"Bloodworms","icon":"spell_shadow_soulleech.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your weapon hits have a 3% chance to cause the target to spawn 2-4 Bloodworms. Bloodworms attack your enemies, healing you as they do damage for 20 sec or until killed."},{"text":"Your weapon hits have a 6% chance to cause the target to spawn 2-4 Bloodworms. Bloodworms attack your enemies, healing you as they do damage for 20 sec or until killed."},{"text":"Your weapon hits have a 9% chance to cause the target to spawn 2-4 Bloodworms. Bloodworms attack your enemies, healing you as they do damage for 20 sec or until killed."}]},{"name":"Unholy Frenzy","icon":"spell_deathknight_bladedarmor.jpg","lockRules":[],"headers":[{"left":"Instant","right":"3 min cooldown"}],"ranks":[{"text":"Induces a friendly unit into a killing frenzy for 30 sec. The target is Enraged, which increases their physical damage by 20%, but causes them to lose health equal to 1% of their maximum health every second."}]},{"name":"Improved Blood Presence","icon":"spell_deathknight_bloodpresence.jpg","lockRules":[],"headers":[],"ranks":[{"text":"While in Frost Presence or Unholy Presence, you retain 2% healing from Blood Presence, and healing done to you is increased by 5% in Blood Presence."},{"text":"While in Frost Presence or Unholy Presence, you retain 4% healing from Blood Presence, and healing done to you is increased by 10% in Blood Presence."}]},null],[{"name":"Improved Death Strike","icon":"spell_deathknight_butcher2.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the damage of your Death Strike by 15%, increases its critical strike chance by 3%, and increases the healing granted by 25%."},{"text":"Increases the damage of your Death Strike by 30%, increases its critical strike chance by 6%, and increases the healing granted by 50%."}]},{"name":"Sudden Doom","icon":"spell_shadow_painspike.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your Blood Strikes and Heart Strikes have a 5% chance to launch a free Death Coil at your target."},{"text":"Your Blood Strikes and Heart Strikes have a 10% chance to launch a free Death Coil at your target."},{"text":"Your Blood Strikes and Heart Strikes have a 15% chance to launch a free Death Coil at your target."}]},{"name":"Vampiric Blood","icon":"spell_shadow_lifedrain.jpg","lockRules":[],"headers":[{"left":"Instant","right":"1 min cooldown"}],"ranks":[{"text":"Temporarily grants the Death Knight 15% of maximum health and increases the amount of health generated through spells and effects by 35% for 10 sec. After the effect expires, the health is lost."}]},null],[{"name":"Will of the Necropolis","icon":"ability_creature_cursed_02.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Damage that would take you below 35% health or taken while you are at 35% health is reduced by 5%."},{"text":"Damage that would take you below 35% health or taken while you are at 35% health is reduced by 10%."},{"text":"Damage that would take you below 35% health or taken while you are at 35% health is reduced by 15%."}]},{"name":"Heart Strike","icon":"inv_weapon_shortblade_40.jpg","lockRules":[],"headers":[{"left":"1 Frost","right":"Melee Range"}],"ranks":[{"text":"Instantly strike the target and his nearest ally, causing 50% weapon damage plus 125 on the primary target, and 25% weapon damage plus 63 on the secondary target. Each target takes 10% additional damage for each of your diseases active on that target."}]},{"name":"Might of Mograine","icon":"spell_deathknight_classicon.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the critical strike damage bonus of your Blood Boil, Blood Strike, Death Strike, and Heart Strike abilities by 15%."},{"text":"Increases the critical strike damage bonus of your Blood Boil, Blood Strike, Death Strike, and Heart Strike abilities by 30%."},{"text":"Increases the critical strike damage bonus of your Blood Boil, Blood Strike, Death Strike, and Heart Strike abilities by 45%."}]},null],[null,{"name":"Blood Gorged","icon":"spell_nature_reincarnation.jpg","lockRules":[],"headers":[],"ranks":[{"text":"When you are above 75% health, you deal 2% more damage. In addition, your attacks ignore up to 2% of your opponent's armor at all times."},{"text":"When you are above 75% health, you deal 4% more damage. In addition, your attacks ignore up to 4% of your opponent's armor at all times."},{"text":"When you are above 75% health, you deal 6% more damage. In addition, your attacks ignore up to 6% of your opponent's armor at all times."},{"text":"When you are above 75% health, you deal 8% more damage. In addition, your attacks ignore up to 8% of your opponent's armor at all times."},{"text":"When you are above 75% health, you deal 10% more damage. In addition, your attacks ignore up to 10% of your opponent's armor at all times."}]},null,null],[null,{"name":"Dancing Rune Weapon","icon":"inv_sword_07.jpg","lockRules":[],"headers":[{"left":"60 Runic Power","right":"30 yd range"},{"left":"Instant","right":"1 min cooldown"}],"ranks":[{"text":"Summons a second rune weapon that fights on its own for 12 sec, doing the same attacks as the Death Knight but for 50% reduced damage."}]},null,null]],"frost":[[{"name":"Improved Icy Touch","icon":"spell_deathknight_icetouch.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your Icy Touch does an additional 5% damage and your Frost Fever reduces melee and ranged attack speed by an additional 2%."},{"text":"Your Icy Touch does an additional 10% damage and your Frost Fever reduces melee and ranged attack speed by an additional 4%."},{"text":"Your Icy Touch does an additional 15% damage and your Frost Fever reduces melee and ranged attack speed by an additional 6%."}]},{"name":"Runic Power Mastery","icon":"spell_arcane_arcane01.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases your maximum Runic Power by 15."},{"text":"Increases your maximum Runic Power by 30."}]},{"name":"Toughness","icon":"spell_holy_devotion.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases your armor value from items by 2% and reduces the duration of all movement slowing effects by 6%."},{"text":"Increases your armor value from items by 4% and reduces the duration of all movement slowing effects by 12%."},{"text":"Increases your armor value from items by 6% and reduces the duration of all movement slowing effects by 18%."},{"text":"Increases your armor value from items by 8% and reduces the duration of all movement slowing effects by 24%."},{"text":"Increases your armor value from items by 10% and reduces the duration of all movement slowing effects by 30%."}]},null],[null,{"name":"Icy Reach","icon":"spell_frost_manarecharge.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the range of your Icy Touch, Chains of Ice and Howling Blast by 5 yards."},{"text":"Increases the range of your Icy Touch, Chains of Ice and Howling Blast by 10 yards."}]},{"name":"Black Ice","icon":"spell_shadow_darkritual.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases your Frost and Shadow damage by 2%."},{"text":"Increases your Frost and Shadow damage by 4%."},{"text":"Increases your Frost and Shadow damage by 6%."},{"text":"Increases your Frost and Shadow damage by 8%."},{"text":"Increases your Frost and Shadow damage by 10%."}]},{"name":"Nerves of Cold Steel","icon":"ability_dualwield.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases your chance to hit with one-handed melee weapons by 1% and increases the damage done by your offhand weapon by 8%."},{"text":"Increases your chance to hit with one-handed melee weapons by 2% and increases the damage done by your offhand weapon by 16%."},{"text":"Increases your chance to hit with one-handed melee weapons by 3% and increases the damage done by your offhand weapon by 25%."}]}],[{"name":"Icy Talons","icon":"spell_deathknight_icytalons.jpg","lockRules":[{"row":0,"column":0}],"headers":[],"ranks":[{"text":"You leech heat from victims of your Frost Fever, so that when their melee attack speed is reduced, yours increases by 4% for the next 20 sec."},{"text":"You leech heat from victims of your Frost Fever, so that when their melee attack speed is reduced, yours increases by 8% for the next 20 sec."},{"text":"You leech heat from victims of your Frost Fever, so that when their melee attack speed is reduced, yours increases by 12% for the next 20 sec."},{"text":"You leech heat from victims of your Frost Fever, so that when their melee attack speed is reduced, yours increases by 16% for the next 20 sec."},{"text":"You leech heat from victims of your Frost Fever, so that when their melee attack speed is reduced, yours increases by 20% for the next 20 sec."}]},{"name":"Lichborne","icon":"spell_shadow_raisedead.jpg","lockRules":[],"headers":[{"left":"Instant","right":"2 min cooldown"}],"ranks":[{"text":"Draw upon unholy energy to become undead for 10 sec. While undead, you are immune to Charm, Fear and Sleep effects."}]},{"name":"Annihilation","icon":"inv_weapon_hand_18.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the critical strike chance of your melee special abilities by 1%. In addition, there is a 33% chance that your Obliterate will do its damage without consuming diseases."},{"text":"Increases the critical strike chance of your melee special abilities by 2%. In addition, there is a 66% chance that your Obliterate will do its damage without consuming diseases."},{"text":"Increases the critical strike chance of your melee special abilities by 3%. In addition, there is a 100% chance that your Obliterate will do its damage without consuming diseases."}]},null],[null,{"name":"Killing Machine","icon":"inv_sword_122.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your melee attacks have a chance to make your next Icy Touch, Howling Blast or Frost Strike a critical strike."},{"text":"Your melee attacks have a chance to make your next Icy Touch, Howling Blast or Frost Strike a critical strike. Effect occurs more often than Killing Machine (Rank 1)."},{"text":"Your melee attacks have a chance to make your next Icy Touch, Howling Blast or Frost Strike a critical strike. Effect occurs more often than Killing Machine (Rank 2)."},{"text":"Your melee attacks have a chance to make your next Icy Touch, Howling Blast or Frost Strike a critical strike. Effect occurs more often than Killing Machine (Rank 3)."},{"text":"Your melee attacks have a chance to make your next Icy Touch, Howling Blast or Frost Strike a critical strike. Effect occurs more often than Killing Machine (Rank 4)."}]},{"name":"Chill of the Grave","icon":"spell_frost_frostshock.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your Chains of Ice, Howling Blast, Icy Touch and Obliterate generate 2.5 additional runic power."},{"text":"Your Chains of Ice, Howling Blast, Icy Touch and Obliterate generate 5 additional runic power."}]},{"name":"Endless Winter","icon":"spell_shadow_twilight.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your strength is increased by 2% and the cost of your Mind Freeze is reduced to 10 runic power."},{"text":"Your strength is increased by 4% and your Mind Freeze no longer costs runic power."}]}],[null,{"name":"Frigid Dreadplate","icon":"inv_chest_mail_04.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Reduces the chance melee attacks will hit you by 1%."},{"text":"Reduces the chance melee attacks will hit you by 2%."},{"text":"Reduces the chance melee attacks will hit you by 3%."}]},{"name":"Glacier Rot","icon":"spell_nature_removedisease.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Diseased enemies take 7% more damage from your Icy Touch, Howling Blast and Frost Strike."},{"text":"Diseased enemies take 13% more damage from your Icy Touch, Howling Blast and Frost Strike."},{"text":"Diseased enemies take 20% more damage from your Icy Touch, Howling Blast and Frost Strike."}]},{"name":"Deathchill","icon":"spell_shadow_soulleech_2.jpg","lockRules":[],"headers":[{"left":"Instant","right":"2 min cooldown"}],"ranks":[{"text":"When activated, makes your next Icy Touch, Howling Blast, Frost Strike or Obliterate a critical hit if used within 30 sec."}]}],[null,{"name":"Improved Icy Talons","icon":"spell_deathknight_icytalons.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the melee haste of all party and raid members within 100 yds by 20% and your haste by an additional 5%."}]},{"name":"Merciless Combat","icon":"inv_sword_112.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your Icy Touch, Howling Blast, Obliterate and Frost Strike do an additional 6% damage when striking targets with less than 35% health."},{"text":"Your Icy Touch, Howling Blast, Obliterate and Frost Strike do an additional 12% damage when striking targets with less than 35% health."}]},{"name":"Rime","icon":"spell_frost_freezingbreath.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the critical strike chance of your Icy Touch and Obliterate by 5% and casting Obliterate has a 5% chance to reset the cooldown on Howling Blast and cause your next Howling Blast to consume no runes."},{"text":"Increases the critical strike chance of your Icy Touch and Obliterate by 10% and casting Obliterate has a 10% chance to reset the cooldown on Howling Blast and cause your next Howling Blast to consume no runes."},{"text":"Increases the critical strike chance of your Icy Touch and Obliterate by 15% and casting Obliterate has a 15% chance to reset the cooldown on Howling Blast and cause your next Howling Blast to consume no runes."}]}],[{"name":"Chilblains","icon":"spell_frost_wisp.jpg","lockRules":[{"row":2,"column":0}],"headers":[],"ranks":[{"text":"Victims of your Frost Fever disease are Chilled, reducing movement speed by 15% for 10 sec."},{"text":"Victims of your Frost Fever disease are Chilled, reducing movement speed by 30% for 10 sec."},{"text":"Victims of your Frost Fever disease are Chilled, reducing movement speed by 50% for 10 sec."}]},{"name":"Hungering Cold","icon":"inv_staff_15.jpg","lockRules":[],"headers":[{"left":"Instant","right":"1 min cooldown"}],"ranks":[{"text":"Purges the earth around the Death Knight of all heat. Enemies within 10 yards are trapped in ice, preventing them from performing any action for 10 sec and infecting them with Frost Fever. Enemies are considered Frozen, but any damage other than diseases will break the ice."}]},{"name":"Improved Frost Presence","icon":"spell_deathknight_frostpresence.jpg","lockRules":[],"headers":[],"ranks":[{"text":"While in Blood Presence or Unholy Presence, you retain 4% stamina from Frost Presence, and damage done to you is decreased by an additional 1% in Frost Presence."},{"text":"While in Blood Presence or Unholy Presence, you retain 8% stamina from Frost Presence, and damage done to you is decreased by an additional 2% in Frost Presence."}]},null],[{"name":"Threat of Thassarian","icon":"ability_dualwieldspecialization.jpg","lockRules":[],"headers":[],"ranks":[{"text":"When dual-wielding, your Death Strikes, Obliterates, Plague Strikes, Rune Strikes, Blood Strikes and Frost Strikes have a 30% chance to also deal damage with your offhand weapon."},{"text":"When dual-wielding, your Death Strikes, Obliterates, Plague Strikes, Rune Strikes, Blood Strikes and Frost Strikes have a 60% chance to also deal damage with your offhand weapon."},{"text":"When dual-wielding, your Death Strikes, Obliterates, Plague Strikes, Rune Strikes, Blood Strikes and Frost Strikes have a 100% chance to also deal damage with your offhand weapon."}]},{"name":"Blood of the North","icon":"inv_weapon_shortblade_79.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases Blood Strike and Frost Strike damage by 3%. In addition, whenever you hit with Blood Strike or Pestilence there is a 30% chance that the Blood Rune will become a Death Rune when it activates. Death Runes count as a Blood, Frost or Unholy Rune."},{"text":"Increases Blood Strike and Frost Strike damage by 6%. In addition, whenever you hit with Blood Strike or Pestilence there is a 60% chance that the Blood Rune will become a Death Rune when it activates. Death Runes count as a Blood, Frost or Unholy Rune."},{"text":"Increases Blood Strike and Frost Strike damage by 10%. In addition, whenever you hit with Blood Strike or Pestilence there is a 100% chance that the Blood Rune will become a Death Rune when it activates. Death Runes count as a Blood, Frost or Unholy Rune."}]},{"name":"Unbreakable Armor","icon":"inv_armor_helm_plate_naxxramas_raidwarrior_c_01.jpg","lockRules":[],"headers":[{"left":"Instant","right":"1 min cooldown"}],"ranks":[{"text":"Reinforces your armor with a thick coat of ice, increasing your armor by 25% and increasing your Strength by 20% for 20 sec."}]},null],[{"name":"Acclimation","icon":"spell_fire_elementaldevastation.jpg","lockRules":[],"headers":[],"ranks":[{"text":"When you are hit by a spell, you have a 10% chance to boost your resistance to that type of magic for 18 sec. Stacks up to 3 times."},{"text":"When you are hit by a spell, you have a 20% chance to boost your resistance to that type of magic for 18 sec. Stacks up to 3 times."},{"text":"When you are hit by a spell, you have a 30% chance to boost your resistance to that type of magic for 18 sec. Stacks up to 3 times."}]},{"name":"Frost Strike","icon":"spell_deathknight_empowerruneblade2.jpg","lockRules":[],"headers":[{"left":"40 Runic Power","right":"Melee Range"}],"ranks":[{"text":"Instantly strike the enemy, causing 55% weapon damage plus 48 as Frost damage."}]},{"name":"Guile of Gorefiend","icon":"inv-sword_53.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the critical strike damage bonus of your Blood Strike, Frost Strike, Howling Blast and Obliterate abilities by 15%, and increases the duration of your Icebound Fortitude by 2 secs."},{"text":"Increases the critical strike damage bonus of your Blood Strike, Frost Strike, Howling Blast and Obliterate abilities by 30%, and increases the duration of your Icebound Fortitude by 4 secs."},{"text":"Increases the critical strike damage bonus of your Blood Strike, Frost Strike, Howling Blast and Obliterate abilities by 45%, and increases the duration of your Icebound Fortitude by 6 secs."}]},null],[null,{"name":"Tundra Stalker","icon":"spell_nature_tranquility.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your spells and abilities deal 3% more damage to targets infected with Frost Fever. Also increases your expertise by 1."},{"text":"Your spells and abilities deal 6% more damage to targets infected with Frost Fever. Also increases your expertise by 2."},{"text":"Your spells and abilities deal 9% more damage to targets infected with Frost Fever. Also increases your expertise by 3."},{"text":"Your spells and abilities deal 12% more damage to targets infected with Frost Fever. Also increases your expertise by 4."},{"text":"Your spells and abilities deal 15% more damage to targets infected with Frost Fever. Also increases your expertise by 5."}]},null,null],[null,{"name":"Howling Blast","icon":"spell_frost_arcticwinds.jpg","lockRules":[],"headers":[{"left":"1 Blood, 1 Unholy","right":"20 yd range"},{"left":"Instant","right":"8 sec cooldown"}],"ranks":[{"text":"Blast the target with a frigid wind dealing 198 to 214 Frost damage to all enemies within 10 yards."}]},null,null]],"unholy":[[{"name":"Vicious Strikes","icon":"spell_deathknight_plaguestrike.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the critical strike chance by 3% and critical strike damage bonus by 15% of your Plague Strike and Scourge Strike."},{"text":"Increases the critical strike chance by 6% and critical strike damage bonus by 30% of your Plague Strike and Scourge Strike."}]},{"name":"Virulence","icon":"spell_shadow_burningspirit.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases your chance to hit with your spells by 1% and reduces the chance that your damage over time diseases can be cured by 10%."},{"text":"Increases your chance to hit with your spells by 2% and reduces the chance that your damage over time diseases can be cured by 20%."},{"text":"Increases your chance to hit with your spells by 3% and reduces the chance that your damage over time diseases can be cured by 30%."}]},{"name":"Anticipation","icon":"spell_nature_mirrorimage.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases your Dodge chance by 1%."},{"text":"Increases your Dodge chance by 2%."},{"text":"Increases your Dodge chance by 3%."},{"text":"Increases your Dodge chance by 4%."},{"text":"Increases your Dodge chance by 5%."}]},null],[{"name":"Epidemic","icon":"spell_shadow_shadowwordpain.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the duration of Blood Plague and Frost Fever by 3 sec."},{"text":"Increases the duration of Blood Plague and Frost Fever by 6 sec."}]},{"name":"Morbidity","icon":"spell_shadow_deathanddecay.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the damage and healing of Death Coil by 5% and reduces the cooldown on Death and Decay by 5 sec."},{"text":"Increases the damage and healing of Death Coil by 10% and reduces the cooldown on Death and Decay by 10 sec."},{"text":"Increases the damage and healing of Death Coil by 15% and reduces the cooldown on Death and Decay by 15 sec."}]},{"name":"Unholy Command","icon":"spell_deathknight_strangulate.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Reduces the cooldown of your Death Grip ability by 5 sec."},{"text":"Reduces the cooldown of your Death Grip ability by 10 sec."}]},{"name":"Ravenous Dead","icon":"spell_deathknight_gnaw_ghoul.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases your total Strength by 1% and the contribution your Ghouls get from your Strength and Stamina by 20%."},{"text":"Increases your total Strength by 2% and the contribution your Ghouls get from your Strength and Stamina by 40%."},{"text":"Increases your total Strength by 3% and the contribution your Ghouls get from your Strength and Stamina by 60%"}]}],[{"name":"Outbreak","icon":"spell_shadow_plaguecloud.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Increases the damage of Plague Strike by 10% and Scourge Strike by 7%."},{"text":"Increases the damage of Plague Strike by 20% and Scourge Strike by 13%."},{"text":"Increases the damage of Plague Strike by 30% and Scourge Strike by 20%."}]},{"name":"Necrosis","icon":"inv_weapon_shortblade_60.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your auto attacks deal an additional 4% Shadow damage."},{"text":"Your auto attacks deal an additional 8% Shadow damage."},{"text":"Your auto attacks deal an additional 12% Shadow damage."},{"text":"Your auto attacks deal an additional 16% Shadow damage."},{"text":"Your auto attacks deal an additional 20% Shadow damage."}]},{"name":"Corpse Explosion","icon":"ability_creature_disease_02.jpg","lockRules":[],"headers":[{"left":"40 Runic Power","right":"30 yd range"},{"left":"Instant","right":"5 sec cooldown"}],"ranks":[{"text":"Cause a corpse to explode for 166 Shadow damage to all enemies within 10 yards. Will use a nearby corpse if the target is not a corpse. Does not affect mechanical or elemental corpses."}]},null],[null,{"name":"On a Pale Horse","icon":"spell_deathknight_summondeathcharger.jpg","lockRules":[],"headers":[],"ranks":[{"text":"You become as hard to stop as death itself. The duration of all Stun and Fear effects used against you is reduced by 10%, and your mounted speed is increased by 10%. This does not stack with other movement speed increasing effects."},{"text":"You become as hard to stop as death itself. The duration of all Stun and Fear effects used against you is reduced by 20%, and your mounted speed is increased by 20%. This does not stack with other movement speed increasing effects."}]},{"name":"Blood-Caked Blade","icon":"ability_criticalstrike.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your auto attacks have a 10% chance to cause a Blood-Caked Strike, which hits for 25% weapon damage plus 12.5% for each of your diseases on the target."},{"text":"Your auto attacks have a 20% chance to cause a Blood-Caked Strike, which hits for 25% weapon damage plus 12.5% for each of your diseases on the target."},{"text":"Your auto attacks have a 30% chance to cause a Blood-Caked Strike, which hits for 25% weapon damage plus 12.5% for each of your diseases on the target."}]},{"name":"Night of the Dead","icon":"spell_deathknight_armyofthedead.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Reduces the cooldown on Raise Dead by 45 sec and the cooldown on Army of the Dead by 2 min. Also reduces the damage your pet takes from creature area of effect attacks by 45%."},{"text":"Reduces the cooldown on Raise Dead by 90 sec and the cooldown on Army of the Dead by 4 min. Also reduces the damage your pet takes from creature area of effect attacks by 90%."}]}],[{"name":"Unholy Blight","icon":"spell_shadow_contagion.jpg","lockRules":[],"headers":[{"left":"Instant","right":null}],"ranks":[{"text":"Causes the victims of your Death Coil to be surrounded by a vile swarm of unholy insects, taking 10% of the damage done by the Death Coil over 10 sec, and preventing any diseases on the victim from being dispelled."}]},{"name":"Impurity","icon":"spell_shadow_shadowandflame.jpg","lockRules":[],"headers":[],"ranks":[{"text":"The attack power bonus of your spells is increased by 4%."},{"text":"The attack power bonus of your spells is increased by 8%."},{"text":"The attack power bonus of your spells is increased by 12%."},{"text":"The attack power bonus of your spells is increased by 16%."},{"text":"The attack power bonus of your spells is increased by 20%."}]},{"name":"Dirge","icon":"spell_shadow_shadesofdarkness.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your Death Strike, Plague Strike and Scourge Strike generate 2.5 additional runic power."},{"text":"Your Death Strike, Plague Strike and Scourge Strike generate 5 additional runic power."}]},null],[{"name":"Desecration","icon":"spell_shadow_shadowfiend.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your Plague Strikes and Scourge Strikes cause the Desecrated Ground effect. Targets in the area are slowed by 25% by the grasping arms of the dead while standing on the unholy ground. Lasts 20 sec."},{"text":"Your Plague Strikes and Scourge Strikes cause the Desecrated Ground effect. Targets in the area are slowed by 50% by the grasping arms of the dead while standing on the unholy ground. Lasts 20 sec."}]},{"name":"Magic Suppression","icon":"spell_shadow_antimagicshell.jpg","lockRules":[],"headers":[],"ranks":[{"text":"You take 2% less damage from all magic. In addition, your Anti-Magic Shell absorbs an additional 8% of spell damage."},{"text":"You take 4% less damage from all magic. In addition, your Anti-Magic Shell absorbs an additional 16% of spell damage."},{"text":"You take 6% less damage from all magic. In addition, your Anti-Magic Shell absorbs an additional 25% of spell damage."}]},{"name":"Reaping","icon":"spell_shadow_shadetruesight.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Whenever you hit with Blood Strike or Pestilence there is a 33% chance that the Blood Rune becomes a Death Rune when it activates. Death Runes count as a Blood, Frost or Unholy Rune."},{"text":"Whenever you hit with Blood Strike or Pestilence there is a 66% chance that the Blood Rune becomes a Death Rune when it activates. Death Runes count as a Blood, Frost or Unholy Rune."},{"text":"Whenever you hit with Blood Strike or Pestilence there is a 100% chance that the Blood Rune becomes a Death Rune when it activates. Death Runes count as a Blood, Frost or Unholy Rune."}]},{"name":"Master of Ghouls","icon":"spell_shadow_animatedead.jpg","lockRules":[{"row":3,"column":3}],"headers":[],"ranks":[{"text":"Reduces the cooldown on Raise Dead by 60 sec, and the Ghoul summoned by your Raise Dead spell is considered a pet under your control. Unlike normal Death Knight Ghouls, your pet does not have a limited duration."}]}],[{"name":"Desolation","icon":"spell_shadow_unholyfrenzy.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your Blood Strikes cause you to deal 1% additional damage with all attacks for the next 20 sec."},{"text":"Your Blood Strikes cause you to deal 2% additional damage with all attacks for the next 20 sec."},{"text":"Your Blood Strikes cause you to deal 3% additional damage with all attacks for the next 20 sec."},{"text":"Your Blood Strikes cause you to deal 4% additional damage with all attacks for the next 20 sec."},{"text":"Your Blood Strikes cause you to deal 5% additional damage with all attacks for the next 20 sec."}]},{"name":"Anti-Magic Zone","icon":"spell_deathknight_antimagiczone.jpg","lockRules":[{"row":5,"column":1}],"headers":[{"left":"Instant","right":"2 min cooldown"}],"ranks":[{"text":"Places a large, stationary Anti-Magic Zone that reduces spell damage done to party or raid members inside it by 75%. The Anti-Magic Zone lasts for 10 sec or until it absorbs 10000+2*AP spell damage."}]},{"name":"Improved Unholy Presence","icon":"spell_deathknight_unholypresence.jpg","lockRules":[],"headers":[],"ranks":[{"text":"While in Blood Presence or Frost Presence, you retain 8% increased movement speed from Unholy Presence, and your runes finish their cooldowns 5% faster in Unholy Presence."},{"text":"While in Blood Presence or Frost Presence, you retain 15% increased movement speed from Unholy Presence, and your runes finish their cooldowns 10% faster in Unholy Presence."}]},{"name":"Ghoul Frenzy","icon":"ability_ghoulfrenzy.jpg","lockRules":[{"row":5,"column":3}],"headers":[{"left":"1 Unholy","right":"45 yd range"},{"left":"Instant","right":"10 sec cooldown"}],"ranks":[{"text":"Grants your pet 25% haste for 30 sec and heals it for 60% of its health over the duration."}]}],[null,{"name":"Crypt Fever","icon":"spell_nature_nullifydisease.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your diseases also cause Crypt Fever, which increases disease damage taken by the target by 10%."},{"text":"Your diseases also cause Crypt Fever, which increases disease damage taken by the target by 20%."},{"text":"Your diseases also cause Crypt Fever, which increases disease damage taken by the target by 30%."}]},{"name":"Bone Shield","icon":"inv_chest_leather_13.jpg","lockRules":[],"headers":[{"left":"Instant","right":"1 min cooldown"}],"ranks":[{"text":"The Death Knight is surrounded by 3 whirling bones. While at least 1 bone remains, &lt;he/she&gt; takes 20% less damage from all sources and deals 2% more damage with all attacks, spells and abilities. Each damaging attack that lands consumes 1 bone. Lasts 5 min."}]},null],[{"name":"Wandering Plague","icon":"spell_shadow_callofbone.jpg","lockRules":[],"headers":[],"ranks":[{"text":"When your diseases damage an enemy, there is a chance equal to your melee critical strike chance that they will cause 33% additional damage to the target and all enemies within 8 yards. Ignores any target under the effect of a spell that is cancelled by taking damage."},{"text":"When your diseases damage an enemy, there is a chance equal to your melee critical strike chance that they will cause 66% additional damage to the target and all enemies within 8 yards. Ignores any target under the effect of a spell that is cancelled by taking damage."},{"text":"When your diseases damage an enemy, there is a chance equal to your melee critical strike chance that they will cause 100% additional damage to the target and all enemies within 8 yards. Ignores any target under the effect of a spell that is cancelled by taking damage."}]},{"name":"Ebon Plaguebringer","icon":"ability_creature_cursed_03.jpg","lockRules":[{"row":7,"column":1}],"headers":[],"ranks":[{"text":"Your Crypt Fever morphs into Ebon Plague, which increases magic damage taken by 4% in addition to increasing disease damage taken. Improves your critical strike chance with weapons and spells by 1% at all times."},{"text":"Your Crypt Fever morphs into Ebon Plague, which increases magic damage taken by 9% in addition to increasing disease damage taken. Improves your critical strike chance with weapons and spells by 2% at all times."},{"text":"Your Crypt Fever morphs into Ebon Plague, which increases magic damage taken by 13% in addition to increasing disease damage taken. Improves your critical strike chance with weapons and spells by 3% at all times."}]},{"name":"Scourge Strike","icon":"spell_deathknight_scourgestrike.jpg","lockRules":[],"headers":[{"left":"1 Blood, 1 Unholy","right":"Melee Range"}],"ranks":[{"text":"An unholy strike that deals 70% of weapon damage as Physical damage plus 238. In addition, for each of your diseases on your target, you deal an additional 12% of the Physical damage done as Shadow damage."}]},null],[null,{"name":"Rage of Rivendare","icon":"inv_weapon_halberd14.jpg","lockRules":[],"headers":[],"ranks":[{"text":"Your spells and abilities deal 2% more damage to targets infected with Blood Plague. Also increases your expertise by 1."},{"text":"Your spells and abilities deal 4% more damage to targets infected with Blood Plague. Also increases your expertise by 2."},{"text":"Your spells and abilities deal 6% more damage to targets infected with Blood Plague. Also increases your expertise by 3."},{"text":"Your spells and abilities deal 8% more damage to targets infected with Blood Plague. Also increases your expertise by 4."},{"text":"Your spells and abilities deal 10% more damage to targets infected with Blood Plague. Also increases your expertise by 5."}]},null,null],[null,{"name":"Summon Gargoyle","icon":"ability_hunter_pet_bat.jpg","lockRules":[],"headers":[],"ranks":[{"text":"A Gargoyle flies into the area and bombards the target with Nature damage modified by the Death Knight's attack power. Persists for 30 sec."}]},null,null]]}};

        var glyphData = {
            "deathknight": {
                "major": [
                    43549,
                    45805,
                    43672,
                    43546,
                    43542,
                    45804,
                    43538,
                    43533,
                    43547,
                    43825,
                    43554,
                    45806,
                    43548,
                    43541,
                    43543,
                    43553,
                    43536,
                    43551,
                    43826,
                    44432,
                    43550,
                    43827,
                    45800,
                    45803,
                    43537,
                    43552,
                    43534,
                    43545,
                    45799
                ],
                "minor": [
                    43535,
                    43539,
                    43544,
                    43671,
                    43673
                ]
            }
        }
        
        var talentTreeCalculator = new TalentTreeCalculator(document.getElementById('test'), jsonData, glyphData);
        talentTreeCalculator.buildSpec(0, "deathknight", "blood");
        talentTreeCalculator.buildSpec(1, "deathknight", "frost");
        talentTreeCalculator.buildSpec(2, "deathknight", "unholy");
        talentTreeCalculator.buildGlyphTable("deathknight");

        var talentTreeHistory = new TalentTreeHistory(document.getElementById('history'), talentTreeCalculator);
        talentTreeCalculator.subscribeToUserPointHistoryUpdateEvent(talentTreeHistory, talentTreeHistory.updateUserPointHistory);

                /*
        fetch ('./TalentData.json')
            .then(function(response) {
                return response.json();
            })
            .then(function (jsonData) {
                var talentTreeCalculator = new TalentTreeCalculator(document.getElementById('test'), jsonData);
                talentTreeCalculator.buildSpec(0, "deathknight", "blood");
                talentTreeCalculator.buildSpec(1, "deathknight", "frost");
                talentTreeCalculator.buildSpec(2, "deathknight", "unholy");
            });*/
    </script>
</body>

</html>